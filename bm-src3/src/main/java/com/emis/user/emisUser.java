/* * $Header: /repository/src3/src/com/emis/user/emisUser.java,v 1.1.1.1 2005/10/14 12:43:16 andy Exp $ * * Copyright (c) EMIS Corp. */package com.emis.user;import javax.servlet.http.HttpSessionBindingListener;import java.util.Properties;/** *  定義系統使用者的功能介面 *  請在 epos.cfg 中設定 *  emis.user.source=com.emis.user.emisUserImpl (for ePos) *  或 *  emis.user.source=com.emis.user.emisLesUserImpl (for les) * *  user object is stored in Session, so it have better *  implements serializable interface */public interface emisUser extends HttpSessionBindingListener{    /**     * 取得使用者英文帳號     */    String getID();    /**     * 取得使用者姓名     */    String getName();    /**     * 取得使用者群組     */    String getGroups();    /**     * 取得使用者郵件帳號     */    String getMailAddr();    /**     * 更改使用者密碼,not supported yet     */    boolean setPasswd(String sNewPasswd,String sOldPasswd,String sConfirmPasswd);    /**     *  傳回 unique 的 ID , 通常會是 session id     */    String getUniqueID();    /**     *    putValue,getValue,removeValue,clearValue 這四個 method     *    是用來存取程式所需要用的變數,將他和 emisUser 物件 bind     *    在一起的好處是如果你要存放許多變數到 Session 或 Cookie     *    會比較慢, 而且程式可能在 session 和 cookie 之間無法做切     *    換     */    void setAttribute(Object oKey,Object oObj);    Object getAttribute(Object oKey);    /**     * 傳回所刪除的 Object (如果存在的話)     */    Object removeAttribute(Object oKey);    void clearAttribute();    /**     * 設定為 debug 的 user 的作業會有 debug message 在產生的 html 中     */    void setDebug(boolean isDebug);    /**     * 傳回是否設定為 debug     */    boolean isDebug();    /**     * 傳回和 database 相對映的 column 的值     * 如 getProperty("TEST"); 會傳回 USERS table 中 TEST column     * 的值     */    String getProperty(String sPropName) throws Exception;    /**     * 傳回商店代碼     */    String getSNo();    /**     * 傳回公司代碼     */    String getCompanyNo();    /**     * 傳回 Menu 的權限物件     */    emisPermission getMenuPermission(String sKey);    /**     *     */    boolean isAuthorized (String sPasswd);    /**     * 取得其他人的基本資料,可以取得如 E-Mail 等     */    Properties getUserInfo (String sUserId) throws Exception;    /**     * 傳回門市人員門市資料     */    Properties getUserStoreInfo() throws Exception;    /**     * 傳回 User 類別 (如總公司人員,門市人員...etc)     * 此類別代碼可能經由許多判斷而來,不是單純的由     * 某一欄位判斷而來     */    int getUserType();    /**    * 傳回使用者 KEY 值 Cliff 91.11.12    */    String getStKey();    /**    * 傳回使用者使用者區權限 Cliff 91.11.12    */    String getRNo() throws Exception;    /**    * 目的: 取得使用者區權限字串 For SQL    */    String getRNoStr() throws Exception;  String getIs_amt();/*    boolean isUseProxy();    void setUseProxy(boolean isUseProxy);    void setProxy(String sHost,String sPort);    String getProxy();    String getProxyPort();*/   // public abstract Properties getStoreInfo(String S_NO) throws Exception;  //  public abstract Properties getUserStaffInfo(String ST_KEY) throws Exception;}